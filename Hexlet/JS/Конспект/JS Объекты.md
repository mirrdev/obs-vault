## Синтаксис—JS: Объекты


Объект – тип данных в JavaScript, с помощью которого представляют связанный набор данных. Это позволяет оперировать данными как единым целым. Например, любой объект реального мира можно описать объектом в JavaScript. То же самое относится и к математическsим объектам, например — фигурам.

```javascript
const user = { name: 'Vasya', married: true, age: 25 };

const rectangle = { width: 10, height: 5 };
```

Объект описывается как перечисление ключей и значений через запятую в фигурных скобках. Ключи в объектах называются свойствами (property). Они уникальны, то есть в одном объекте не может быть двух одинаковых свойств, имеющих разные значения.

Если свойств много, то определение можно растянуть на несколько строк:

```javascript
const user = {
  name: 'Vasya',
  married: true,
  age: 25,
};
```

Запятая в конце не обязательна, но [рекомендуется линтером](https://eslint.org/docs/rules/comma-dangle). Это удобно при добавлении или удалении ключей. Не придется менять окончание последней строчки.

Для обращения к свойствам объектов используется точечный синтаксис:

```javascript
user.name; // 'Vasya'
rectangle.width; // 10
```

Иногда по ошибке или намеренно обращаются к свойствам, которых в объекте нет. В этом случае JavaScript возвращает `undefined`, и продолжает работать как ни в чем не бывало. Такое поведение может приводить к трудноотловимым ошибкам, поэтому будьте осторожны и всегда проверяйте написание свойств, если возвращаются не те данные, или данных нет:

```javascript
user.nme; // undefined
user.name; // 'Vasya'
```

JavaScript поддерживает альтернативный способ обращения к свойствам объектов – через квадратные скобки — как в массивах:

```javascript
// имена свойств хранятся внутри объекта в виде строк.
user['name']; // 'Vasya'
rectangle['width']; // 10
user['company']; // undefined
```

Зачем нужен такой способ доступа? В реальном использовании объектов часто встречаются алгоритмы, когда имя свойства может меняться в процессе обработки. Обращение к свойству через точку не позволяет задавать имя динамически, а способ через скобки — позволяет:

```javascript
const user = { name: 'Vasya', married: true, age: 25 };

let propertyName = 'name';
user[propertyName]; // 'Vasya' 

propertyName = 'married';
user[propertyName]; // true 
```

Подробнее про такое использование мы поговорим в одном из следующих уроков.

------
#### Самостоятельная работа

1. Запустите REPL
2. Создайте внутри него объект, выполните обращение к его свойствам разными способами
------
#### Дополнительные материалы
1. [Документация](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object)

## Модификация—JS: Объекты

Для создания и обновления значений свойств в объекте используется одна и та же операция — присваивание. Для несуществующих свойств она запишет новый элемент, для существующих — перезапишет новым значением:

```javascript
const user = { name: 'Vasya', married: true, age: 25 };

user.married = false;
// То же самое
// user['married'] = false;

user.surname = 'Petrov';
// То же самое
// user['surname'] = 'Petrov';

console.log(user);
// => { name: 'Vasya', married: false, age: 25, surname: 'Petrov' }
```

Несмотря на то, что объект объявлен как константа, он меняется. Причина такого поведения точно такая же, как и в случае массивов. В константе хранится не сам объект, а ссылка на него. Это значит, что менять объект можно, но заменить объект на другой – нельзя:

```javascript
const user = { name: 'Maria' };
user.name = 'Igor';

// Возникнет ошибка
user = { name: 'Mike' }; // Boom!
```

Подробнее об этом - в одном из следующих уроков.

Изменяемость объектов позволяет наполнять их постепенно. То есть мы можем создать пустой объект и затем расширить его нужными свойствами:

```javascript
const course = {};

course.name = 'Хекслет – JS: Объекты';
course.description = 'Самый классный курс на свете, не проходите мимо, дети!';

console.log(course.name); // 'Хекслет – JS: Объекты'

console.log(course);
// {
//   name: 'Хекслет – JS: Объекты',
//   description: 'Самый классный курс на свете, не проходите мимо, дети!'
// }
```

Удалить элемент из объекта можно с помощью оператора `delete`:

```javascript
const user = { name: 'Vasya', wrongProp: 'bug' };

delete user.wrongProp;

console.log(user);
// => { name: 'Vasya' }
```

Несмотря на наличие удаления, удалять свойства из объекта плохая практика. Как вы увидите далее, любую задачу можно решить без удаления и главное, что такой код будет лучше.

https://repl.it/@hexlet/js-objects-syntax-add-update-delete-values

## Ссылки—JS: Объекты

Объекты – ссылочный тип данных. То есть переменные и константы хранят не сами объекты (их данные), а ссылку на них. Поэтому возникает ощущение, что константы в JavaScript изменяемы, но это не так. Главное понимать, что константа связана со ссылкой, а не с данными в случае объекта:

```javascript
const company = {};

// Поменять объект можно
company.name = 'Hexlet';

// Заменить ссылку нельзя
company = {}; // Boom!

let object = {};

// А так можно
object = {};
```

Ссылочная природа влияет и на сравнение. Объекты равны между собой не тогда, когда у них одинаковая структура, а когда это один и тот же объект:

```javascript
const company = { name: 'Hexlet' };

company === { name: 'Hexlet' }; // false

const copyOfCompany = company; // передается ссылка

// Это одно и то же
copyOfCompany === company; // true

// Меняя одно, меняем и другое
company.createdAt = 2012;

console.log(copyOfCompany); // { name: 'Hexlet', createdAt: 2012 }
```

Каждое объявление объекта (в том числе пустого), создает новый объект. Поэтому даже два пустых объекта никогда не равны друг другу:

```javascript
{} === {}; // false
```

Больше всего ссылочная природа объектов влияет на их работу с функциями. Любой объект, передаваемый в функцию, попадает туда по ссылке. Изменение такого объекта внутри функции меняет его и снаружи:

```javascript
const changeObj = (o) => {
  o.key = 'value';
};

const obj = {};

changeObj(obj);
console.log(obj); // { key: 'value' };
```